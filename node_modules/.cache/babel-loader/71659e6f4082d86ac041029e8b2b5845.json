{"ast":null,"code":"var _jsxFileName = \"/Users/luciano/Desktop/hack/megahack-sebrae/src/components/features/CartContent/CartContent.js\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport CardHorizontal from \"../../modules/CardHorizontal\";\nimport { ActionsCart } from \"../../../store/actions\";\nimport { formatMoney } from \"../../../helpers\";\nimport { Button } from \"../../elements\";\nimport { Content, CardContainer, Total, Row, MoreItems } from \"./styles\";\nimport { useHistory } from \"react-router-dom\";\nimport Products from \"../../../mocks/Products\";\nimport { useMedia } from \"../../../hooks/useMedia\";\n\nconst generateProductsList = cart => cart.reduce((acum, item, index) => `${acum}\n  *[ ${index} ]* - ${item.name} | *TAMANHO* - ${item.size}%0a`, \"\");\n\nexport default function CartContent() {\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart);\n  const history = useHistory();\n  const {\n    isSmall\n  } = useMedia();\n  const whatsappNumber = \"5521984623153\";\n  const text = `*PRODUTOS:*%0a\n  -----------------%0a${generateProductsList(cart)}`;\n  useEffect(() => {\n    dispatch(ActionsCart.insertItemCart(Products[0]));\n    dispatch(ActionsCart.insertItemCart(Products[1]));\n  }, []);\n\n  const handleRemoveItemCart = id => {\n    dispatch(ActionsCart.removeItemCart(id));\n  };\n\n  const handleSetSize = ({\n    size,\n    id\n  }) => {\n    dispatch(ActionsCart.setSizeItemCart({\n      size,\n      id\n    }));\n  };\n\n  const getTotal = () => cart.reduce((acum, item) => item.price + acum, 0);\n\n  const closeOrder = () => {\n    dispatch(ActionsCart.clearCart());\n    window.open(`https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${text}`, \"_blank\");\n    history.push(\"/\");\n  };\n\n  return /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, cart.map((product, index) => /*#__PURE__*/React.createElement(CardContainer, {\n    key: product.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardHorizontal, {\n    product: product,\n    setSize: size => handleSetSize({\n      size,\n      id: product.id\n    }),\n    quantity: product.quantity,\n    onRemove: () => handleRemoveItemCart(product.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }))), cart.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Total, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"TOTAL DO PEDIDO\"), /*#__PURE__*/React.createElement(Total, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, formatMoney(getTotal()))), /*#__PURE__*/React.createElement(MoreItems, {\n    onClick: () => history.push(\"/\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"SELECIONAR MAIS PE\\xC7AS\"), /*#__PURE__*/React.createElement(Button, {\n    action: closeOrder,\n    style: {\n      margin: \"20px 0\",\n      height: !isSmall ? \"83px\" : \"47px\",\n      maxWidth: \"396px\",\n      width: \"80%\",\n      borderRadius: \"42px\",\n      fontSize: !isSmall ? \"25px\" : \"13px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"FECHAR PEDIDO\")));\n}","map":{"version":3,"sources":["/Users/luciano/Desktop/hack/megahack-sebrae/src/components/features/CartContent/CartContent.js"],"names":["React","useEffect","useDispatch","useSelector","CardHorizontal","ActionsCart","formatMoney","Button","Content","CardContainer","Total","Row","MoreItems","useHistory","Products","useMedia","generateProductsList","cart","reduce","acum","item","index","name","size","CartContent","dispatch","state","history","isSmall","whatsappNumber","text","insertItemCart","handleRemoveItemCart","id","removeItemCart","handleSetSize","setSizeItemCart","getTotal","price","closeOrder","clearCart","window","open","push","map","product","quantity","length","margin","height","maxWidth","width","borderRadius","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport CardHorizontal from \"../../modules/CardHorizontal\";\nimport { ActionsCart } from \"../../../store/actions\";\nimport { formatMoney } from \"../../../helpers\";\nimport { Button } from \"../../elements\";\nimport { Content, CardContainer, Total, Row, MoreItems } from \"./styles\";\nimport { useHistory } from \"react-router-dom\";\nimport Products from \"../../../mocks/Products\";\nimport { useMedia } from \"../../../hooks/useMedia\";\nconst generateProductsList = (cart) =>\n  cart.reduce(\n    (acum, item, index) => `${acum}\n  *[ ${index} ]* - ${item.name} | *TAMANHO* - ${item.size}%0a`,\n    \"\"\n  );\n\nexport default function CartContent() {\n  const dispatch = useDispatch();\n  const cart = useSelector((state) => state.cart);\n  const history = useHistory();\n\n  const { isSmall } = useMedia();\n\n  const whatsappNumber = \"5521984623153\";\n  const text = `*PRODUTOS:*%0a\n  -----------------%0a${generateProductsList(cart)}`;\n  useEffect(() => {\n    dispatch(ActionsCart.insertItemCart(Products[0]));\n    dispatch(ActionsCart.insertItemCart(Products[1]));\n  }, []);\n\n  const handleRemoveItemCart = (id) => {\n    dispatch(ActionsCart.removeItemCart(id));\n  };\n\n  const handleSetSize = ({ size, id }) => {\n    dispatch(ActionsCart.setSizeItemCart({ size, id }));\n  };\n\n  const getTotal = () => cart.reduce((acum, item) => item.price + acum, 0);\n\n  const closeOrder = () => {\n    dispatch(ActionsCart.clearCart());\n    window.open(\n      `https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${text}`,\n      \"_blank\"\n    );\n    history.push(\"/\");\n  };\n\n  return (\n    <Content>\n      {cart.map((product, index) => (\n        <CardContainer key={product.id}>\n          <CardHorizontal\n            product={product}\n            setSize={(size) => handleSetSize({ size, id: product.id })}\n            quantity={product.quantity}\n            onRemove={() => handleRemoveItemCart(product.id)}\n          />\n        </CardContainer>\n      ))}\n      {cart.length > 0 && (\n        <>\n          <Row>\n            <Total>TOTAL DO PEDIDO</Total>\n            <Total>{formatMoney(getTotal())}</Total>\n          </Row>\n          <MoreItems onClick={() => history.push(\"/\")}>\n            SELECIONAR MAIS PEÃ‡AS\n          </MoreItems>\n          <Button\n            action={closeOrder}\n            style={{\n              margin: \"20px 0\",\n              height: !isSmall ? \"83px\" : \"47px\",\n              maxWidth: \"396px\",\n              width: \"80%\",\n              borderRadius: \"42px\",\n              fontSize: !isSmall ? \"25px\" : \"13px\",\n            }}\n          >\n            FECHAR PEDIDO\n          </Button>\n        </>\n      )}\n    </Content>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}